<script>
function leftArrowPressed() {
  <% if @next_path %>
    window.open('<%= images_find_duplicate_path(path: @next_path) %>','_self');
  <% end %>
}

function upArrowPressed() {
  window.open('<%= directories_browse_path(path: @current_path.dirname) %>','_self');
}

function rightArrowPressed() {
  <% if @previous_path %>
    window.open('<%= images_find_duplicate_path(path: @previous_path) %>','_self');
  <% end %>
}

function downArrowPressed() {
  window.open('<%= images_inline_path( path: @current_path.to_s) %>', '_self');
}

document.onkeydown = function(evt) {
  evt = evt || window.event;
  switch (evt.keyCode) {
    case 37:
      leftArrowPressed();
      break;
    case 38:
      upArrowPressed();
      break;
    case 39:
      rightArrowPressed();
      break;
    case 40:
      downArrowPressed();
      break;
  }
};
</script>
<a href='<%= directories_browse_path( path: @current_path.dirname) %>'>..</a>

<h1>Requested Image <%= "(#{@current_directory_position+1}/#{@current_directory_entries.count})" %></h1>

<p>
  <a href='<%= custom_image_path( path: @current_path.to_s) %>'>
    <%= image_tag custom_image_path( path: @current_path.to_s), height: 500 %>
  </a>
</p>

<h1>Best Matches (5/<%= @image_count %>)</h1>

<% @best_matches.each do |image| %>
  <a href='<%= images_find_duplicate_path( path: image.path) %>'>
    <%= image_tag custom_image_path( path: image.path), height: 200 %>
  </a>
<% end %>
